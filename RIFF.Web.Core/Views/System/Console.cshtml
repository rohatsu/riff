@{
    Layout = "~/Views/Core/_RIFFPage.cshtml";
    ViewBag.Title = "RIFF Console";
}

<div id="console"></div>

@section RIFFPageScripts {
    <script src="@Url.Content("~/Scripts/jquery.terminal-0.9.3.min.js")"></script>
    <link href="@Url.Content("~/Content/jquery.terminal.css")" rel="stylesheet" />

    <script type="text/javascript">

        var terminal;

        var RFinitialize = function () {
        @*    $('#console').terminal(function (command, term) {
                if (command !== '') {
                    try {
                        var result = window.eval(command);
                        if (result !== undefined) {
                            term.echo(new String(result));
                        }
                    } catch (e) {
                        term.error(new String(e));
                    }
                } else {
                    term.echo('');
                }
            }, {
                greetings: 'RIFF Console',
                name: 'riff_console',
                height: 500,
                prompt: 'riff> '
            });*@

            terminal = $('#console').terminal('@Url.Action("ConsoleCommand", "System")', {
                greetings: '',
                name: 'riff_console',
                height: 650,
                processArguments: false,
                prompt: 'riff> ',
                onInit: function () {
                    terminal.exec('version', true);
                }
            });
        };
    </script>
}
